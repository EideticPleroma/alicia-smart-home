# Mosquitto MQTT Broker Configuration for Alicia Project
# This configuration provides secure MQTT communication for smart home devices

# Basic Settings
listener 1883
protocol mqtt

# Persistence
persistence true
persistence_location /mosquitto/data/
autosave_interval 1800

# Logging
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
connection_messages true

# Security Settings
allow_anonymous false
password_file /mosquitto/config/passwords
acl_file /mosquitto/config/acl

# Message Settings
max_inflight_messages 20
max_queued_messages 1000
message_size_limit 0

# Bridge Settings (for future multi-broker setup)
# bridge_capath /etc/ssl/certs/
# bridge_insecure false

# WebSocket Support (optional, for web-based MQTT clients)
# listener 9001
# protocol websockets
# http_dir /mosquitto/web

# Quality of Service
# queue_qos0_messages true
# max_qos 2

# Connection Settings
max_connections -1
max_keepalive 65535

# System Settings
sys_interval 30

# Include additional configuration files if needed
# include_dir /mosquitto/config/conf.d
